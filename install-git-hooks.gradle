// 删除hooks文件
//task deleteGitHooks(type: Delete) {
//    File file = new File(rootProject.rootDir, '.git/hooks/pre-commit')
//    delete file
//}
//deleteGitHooks.execute()


task installGitHooks(type: Copy) {
    from new File(rootProject.rootDir, 'post-commit')

    into {
        new File(rootProject.rootDir, '.git/hooks')
    }
    File file = new File(rootProject.rootDir, '.git/post-commit')
    file.setExecutable(true, false)
    //File file2 = new File(rootProject.rootDir, '.git/pre-commit')
    //file2.setExecutable(true, false)

}

//clean.dependsOn installGitHooks
build.dependsOn installGitHooks
//Could not find method execute() for arguments [] on task ':installGitHooks' of type org.gradle.api.tasks.Copy.
//installGitHooks.execute()
